<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Maneiro.ai</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/static/app.css" />
</head>
<body>
  <header class="topBar">
    <div class="brand">
      <div class="brandMark"><img src="/static/img/logo.png" alt="maneiro" class="brandLogo" /></div>
    </div>

    
    <div class="topActions">
      <button id="faqBtn" class="iconBtn" type="button" title="FAQ">FAQ</button>
      <a class="iconBtn linkBtn" href="https://pubmed.ncbi.nlm.nih.gov/" target="_blank" rel="noreferrer" title="PubMed">PubMed</a>
      <button id="resetBtn" class="iconBtn" type="button" title="Reset">Reset</button>
    </div>
  </header>

  <div class="appGrid">
    <aside class="sideBar">
      <div class="sideHeader">
        <div class="sideTitle">Cases</div>
        <button id="newCaseBtn" class="sideBtn" type="button">New</button>
      </div>
      <div id="caseList" class="caseList"></div>
      <div class="sideHint">Cases are stored in this browser only.</div>
    </aside>

    <div class="mainArea">
      <section class="stepBar">
        <div class="stepTitle"><b>STEP 1: ANALYZE</b></div>
        <div class="stepControls">
          <input id="file" type="file" accept="application/pdf" class="fileInput" />
          <button id="uploadBtn" class="btnPrimary" type="button">Upload exam notes</button>
          <div id="analyzeStatus" class="stepStatus">Wait for analysis to complete (waiting)</div>
        </div>
        <div id="ocrPrompt" class="ocrPrompt hidden">
          <div class="ocrText">I could not extract readable text from this file. If it is scanned or handwritten, enable the option below and run OCR.</div>
          <div class="ocrControls">
            <label class="ocrLabel"><input id="handwrittenCheck" type="checkbox" /> Handwritten paper files</label>
            <button id="runOcrBtn" class="btnSecondary" type="button">Run OCR</button>
          </div>
        </div>
      </section>

      <section class="summary">
        <div class="sectionTitle"><b>Summary</b></div>
        <div id="summaryBox" class="panel">Upload exam notes to begin.</div>
      </section>

      <main class="triCols">
        <section class="col">
          <div class="sectionTitle"><b>Diagnosis</b></div>
          <div id="dxBox" class="panel">No data yet.</div>
        </section>
        <section class="col">
          <div class="sectionTitle"><b>Plan</b></div>
          <div id="planBox" class="panel">No data yet.</div>
        </section>
        <section class="col">
          <div class="sectionTitle"><b>References</b></div>
          <div id="refBox" class="panel">No data yet.</div>
        </section>
      </main>

      <section class="stepBar step2">
        <div class="stepTitle"><b>STEP 2: COMMUNICATE</b></div>
        <div class="commGrid">
          <div class="field fieldDoc">
            <label class="fieldLabel" for="recipientType">Document type</label>
            <select id="recipientType" class="ctrl">
              <option value="Specialist">Specialist</option>
              <option value="Family physician">Family physician</option>
              <option value="Patient">Patient</option>
              <option value="Insurance">Insurance</option>
              <option value="Other">Other</option>
            </select>
          </div>

          <div class="field fieldTo">
            <label class="fieldLabel" for="toWhom">To</label>
            <input id="toWhom" class="ctrl" placeholder="Dr Lastname" />
          </div>

          <div class="field fieldFrom">
            <label class="fieldLabel" for="fromDoctor">From</label>
            <input id="fromDoctor" class="ctrl" placeholder="Provider" />
          </div>

          <div class="field fieldAction">
            <label class="fieldLabel">&nbsp;</label>
            <div class="actionRow">
              <button id="generateBtn" class="btnPrimary" type="button">Generate report</button>
              <div id="generateStatus" class="stepStatus inline">Ready</div>
            </div>
          </div>

          <div class="field fieldReason">
            <label class="fieldLabel" for="reasonDx">Reason</label>
            <select id="reasonDx" class="ctrl">
              <option value="">Select diagnosis</option>
            </select>
            <input id="reasonOther" class="ctrl hidden" placeholder="Other reason" />
          </div>

          <div class="field fieldFocus">
            <label class="fieldLabel" for="reasonFocus">Referral focus</label>
            <select id="reasonFocus" class="ctrl" disabled>
              <option value="">Select focus</option>
            </select>
            <input id="reasonFocusOther" class="ctrl hidden" placeholder="Other focus" />
          </div>

          <div class="field fieldRequests">
            <label class="fieldLabel" for="specialRequests">Special requests</label>
            <input id="specialRequests" class="ctrl" placeholder="Optional" />
          </div>
        </div>
      </section>

      <section class="output">
        <div class="letterToolbar">
          <button class="toolBtn" type="button" data-cmd="bold"><b>B</b></button>
          <button class="toolBtn" type="button" data-cmd="italic"><i>I</i></button>
          <button class="toolBtn" type="button" data-cmd="insertUnorderedList">List</button>
          <button class="toolBtn" type="button" data-cmd="removeFormat">Clear</button>
        </div>
        <div id="letterRich" class="letterRich" contenteditable="true" spellcheck="false" data-placeholder="Generated output will appear here"></div>
        <textarea id="letter" class="letter hidden" placeholder="Generated output will appear here"></textarea>
        <div class="outputActions">
          <button id="emailBtn" class="btn" type="button">Email</button>
          <button id="copyRich" class="btn" type="button">Copy Rich Text</button>
          <button id="copyPlain" class="btn" type="button">Copy Plain Text</button>
          <button id="exportPdf" class="btn" type="button">Export PDF</button>
        </div>
      </section>

      <footer class="footer">
        <div class="footerLegal">Maneiro.ai is a documentation support tool. It does not provide medical advice and is not a substitute for professional judgement. You are responsible for verifying accuracy, completeness, and appropriateness before use or transmission.</div>
        <div class="footerLegal">Do not include unnecessary patient identifiers. Use within your clinic privacy requirements and applicable laws. No warranties are provided. To the fullest extent permitted by law, liability is limited for any indirect, incidental, special, or consequential damages.</div>
        <div class="footerSmall">v{{ version }}</div>
      </footer>
    </div>
  </div>
  <div id="faqModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="faqTitle">
    <div class="modalBackdrop" data-close="1"></div>
    <div class="modalCard">
      <div class="modalHeader">
        <div id="faqTitle" class="modalTitle">FAQ</div>
        <button id="faqClose" class="iconBtn" type="button" title="Close">Close</button>
      </div>
      <div class="modalBody">
        <div class="faqItem">
          <div class="faqQ">What is Maneiro.ai</div>
          <div class="faqA">Maneiro.ai is a documentation assistant for clinicians. It converts clinical notes into structured outputs such as referral letters, consult letters, and reports. The goal is to reduce administrative workload while keeping the clinician fully in control of the final content.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">How do I use it from start to finish</div>
          <div class="faqA">Step 1 is Analyze. Upload a PDF of exam notes and wait for the Summary, Diagnosis, Plan, and References panels to populate. Step 2 is Communicate. Choose document type, fill To and From, then select a Reason and Referral focus. Add Special requests if needed. Click Generate report. Edit the output directly in the rich editor, then Export PDF. Use Email to open your default email app with a ready to send message, then attach the PDF you exported.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">What file types are supported</div>
          <div class="faqA">Upload a PDF. If the PDF contains selectable text, Maneiro.ai will extract it. If the PDF is scanned or handwritten, you can enable Handwritten paper files and run OCR. OCR may take longer and results depend on scan quality.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">What does Step 1 Analyze produce</div>
          <div class="faqA">Summary is a clinician readable overview of the visit. Diagnosis is a structured problem list written in plain language. Plan is a concise management plan aligned to the diagnoses. References are evidence sources tied to the diagnoses and plan where possible.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">What does Step 2 Communicate change</div>
          <div class="faqA">Step 2 controls the audience, intent, and tone of the letter. Document type affects phrasing and what is emphasized. Reason and Referral focus shape the opening narrative and the requested service. Special requests lets you add constraints, questions, or priorities for the receiving clinician.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">Can I edit the letter and keep formatting</div>
          <div class="faqA">Yes. The output area is a rich editor. You can use Bold, Italic, Lists, and Clear formatting. Export PDF renders from the same formatted HTML so what you see on screen matches what is exported.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">What do Copy Rich Text and Copy Plain Text do</div>
          <div class="faqA">Copy Rich Text copies formatted content for email clients and editors that support rich text. Copy Plain Text copies a clean text only version for systems that strip formatting. Use whichever matches the destination system.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">How does Email work</div>
          <div class="faqA">Email opens your default email application with a subject and message prefilled. For privacy and security, Maneiro.ai does not send email from the server and it does not attach files automatically. Export the PDF first, then attach it in your email app.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">How are references chosen and why do I see guideline links</div>
          <div class="faqA">References start with PubMed results selected using diagnosis and intent. If a diagnosis has too few citations, Maneiro.ai adds cornerstone guidance and consensus sources for that condition. Some cornerstone sources are guidelines hosted by professional societies or journals, so they may open outside PubMed.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">Are the references medical advice</div>
          <div class="faqA">No. References provide context and support for clinical reasoning. They do not replace clinical judgement, local protocols, or specialist recommendations.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">Where are cases stored</div>
          <div class="faqA">Cases are stored locally in your browser only. They are not synced across devices. Clearing site data in your browser removes them. Use Export PDF if you need a permanent record for your workflow.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">What should I avoid putting into the system</div>
          <div class="faqA">Avoid unnecessary identifiers. Include only what you need to create the document. Confirm your clinic privacy requirements and local regulations before use, especially when handling sensitive information.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">Troubleshooting: Why is the output empty or missing data</div>
          <div class="faqA">If the PDF is scanned, run OCR. If the note format is unusual, some fields may not extract cleanly. You can still use the generated structure and edit the letter manually. If you notice consistent misses, adjust your note template or provide a cleaner export from your EMR.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">Best results: how to export notes from your EMR</div>
          <div class="faqA">Use an EMR export that includes the full exam, not just the assessment. If possible, export in a clean text based PDF, not a scanned image. Include key objective findings, imaging impressions, and medication lists. If your EMR offers both a compact and detailed printout, start with detailed for best extraction.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">What should always be checked before sending</div>
          <div class="faqA">Confirm patient identifiers, dates, medication names and doses, allergies, objective findings, and the requested service. Make sure urgency is communicated appropriately. Verify that the letter reflects what you actually did and what you want the receiving clinician to do. Maneiro.ai is designed to save time, not remove responsibility.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">What do the Case cards show</div>
          <div class="faqA">Each case card stores a timestamp, the provider name you entered, and a short diagnosis summary when available. Click a card to reopen that case and continue editing. Use New to start fresh. Reset clears the current working case and returns the UI to the initial state.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">What does the status text mean</div>
          <div class="faqA">In Step 1, the status reflects whether your PDF is waiting, processing, or complete. In Step 2, the status reflects whether the app is ready to generate, generating, or done. If you see repeated failures, try a different PDF export, run OCR, or refresh the page and upload again.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">How do I tailor the letter tone and requested service</div>
          <div class="faqA">Use Document type to set audience and tone. Use Reason to anchor the primary diagnosis or problem. Use Referral focus to specify the exact service you want, for example phaco assessment, glaucoma consult, retina evaluation, dry eye comanagement, or contact lens fitting. Use Special requests to add targeted questions, constraints, or clinical priorities.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">Can I include attachments like imaging or test results</div>
          <div class="faqA">Export PDF for the letter. If you need to send imaging, OCT, topography, or field reports, attach them separately from your EMR or imaging system. Email creates a draft only. Your email application controls attachments and recipients.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">Privacy and data handling</div>
          <div class="faqA">Maneiro.ai does not send email from the server. Cases are stored locally in your browser. Exported PDFs are saved wherever your browser downloads go. Follow your clinic policies for device security, browser access, and retention. Do not use shared devices without appropriate controls.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">Why do some guideline links open outside PubMed</div>
          <div class="faqA">Some cornerstone references live on professional society or journal websites, such as AAO Preferred Practice Patterns, TFOS reports, or EGS guidelines. These are included to strengthen evidence context when a diagnosis is broad or PubMed results are sparse.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">What if the diagnosis or plan is wrong</div>
          <div class="faqA">Edit it. The tool is designed for fast drafting. If the extracted diagnosis list misses a key condition, add it in the letter and adjust the requested service. If you see a pattern of consistent misses for a specific note style, that is usually solved by improving the source PDF export or adjusting the extraction prompt.</div>
        </div>

        <div class="faqItem">
          <div class="faqQ">Supported browsers</div>
          <div class="faqA">Modern Chromium and Safari versions work best. If Copy Rich Text does not behave as expected, try another browser or use Export PDF as the stable output.</div>
        </div>
      </div>
    </div>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>
  <script src="/static/app.js"></script>
</body>
</html>
